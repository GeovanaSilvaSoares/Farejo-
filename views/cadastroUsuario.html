<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar usuário</title>
    <link rel="stylesheet" href="../public/css/cadastro/nav.css">
    <link rel="stylesheet" href="../public/css/cadastro/geral.css">
    <link rel="stylesheet" href="../public/css/cadastro/cadastro.css">
    <link rel="stylesheet" href="../public/css/cadastro/responsividade.css">
    <link rel="stylesheet" href="../public/css/cadastro/login.css">
</head>

<body>
    <nav class="logo">
        <img src="../public/imgs/cadastro/logo.png" alt="">
    </nav>

    <div class="container">
        <!-- Lado Esquerdo -->
        <div class="left">
            <h1>Junte-se a essa causa!</h1>
            <p>Ao se cadastrar, você dá o primeiro passo para transformar vidas.</p>
            <img src="../public/imgs/cadastro/cachorroCadastro.png" alt="Cachorro feliz" class="dog-img">
        </div>

        <div class="right">
            <div class="cadastro-header">
                <h2>CADASTRO</h2>
                <div class="step-indicator">
                    <div class="step step1 active">1</div>
                    <div class="line"></div>
                    <div class="step step2">2</div>
                </div>
        </div>

            <form id="cadastroForm">
                <!-- ETAPA 1 -->
                <div id="etapa1" class="etapa">
                    <label>Nome:</label>
                    <input type="text" required placeholder=" " />

                    <label>E-mail:</label>
                    <input type="email" required placeholder=" " />

                    <label>Senha:</label>
                    <input type="password" required placeholder=" "/>

                    <div class="botoes">
                        <button type="button" id="btnProximo">PRÓXIMO</button>
                    </div>
                </div>

                <!-- ETAPA 2 -->
                <div id="etapa2" class="etapa hidden">
                    <label>CEP:</label>
                    <input type="text" id="cep" required placeholder=" "  maxlength="8"/>

                    <div class="row">
                        <div class="input-group">
                            <label>Rua:</label>
                            <input type="text" id="rua" required placeholder=" " />
                        </div>
                        <div class="input-group">
                            <label>Número:</label>
                            <input type="text" id="numero" required placeholder=" "/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-group">
                            <label>Cidade:</label>
                            <input type="text" id="cidade" required placeholder=" "/>
                        </div>
                        <div class="input-group">
                            <label>UF:</label>
                            <input type="text" id="uf" required placeholder=" "/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-group">
                            <label>Complemento:</label>
                            <input type="text" id="complemento" placeholder=" "/>
                        </div>
                        <div class="input-group">
                            <label>Bairro:</label>
                            <input type="text" id="bairro" required placeholder=" "/>
                        </div>
                    </div>

                    <div class="botoes">
                        <button><a href="loginUsuario.html">LOGIN</a> </button>
                    </div>

                    
                </div>
            </form>
        </div>
    </div>
    <script>
    document.getElementById("cep").addEventListener("blur", function() {
      let cep = this.value.replace(/\D/g, ""); // só números

      if (cep.length === 8) {
        fetch(`https://viacep.com.br/ws/${cep}/json/`)
          .then(response => response.json())
          .then(data => {
            if (!data.erro) {
              document.getElementById("rua").value = data.logradouro;
              document.getElementById("bairro").value = data.bairro;
              document.getElementById("cidade").value = data.localidade;
              document.getElementById("uf").value = data.uf;
              document.getElementById("complemento").value = data.complemento;
            } else {
              alert("CEP não encontrado!");
            }
          })
          .catch(() => alert("Erro ao buscar o CEP."));
      } else {
        alert("CEP inválido. Digite 8 números.");
      }
    });
  </script>
    <script src="../public/js/cadastro.js"></script>

</body>

</html>
